# Robot-arm-3D-printing

### 主控程序 main.py
输入重采样后的模型数据，连接机械臂，定位打印平面，计算打印平面的转换矩阵，计算路径时间，根据时间间隔发送机械臂运动控制代码。

### 测试程序 test.py
测试程序直接输入了一个平面R，不需要再进行平面定位。发送控制代码处要手动写入α、β、γ。
 
### 重采样过程 unit_test_resample.py
使用向量夹角公式判断两条线段是否位于同一条直线，若位于同一直线，则删去中间点，不位于同一直线，则保留。以此遍历整个路径，去除直线上多余的点。

### 从Gcode转换到机械臂打印平台加工控制代码的转换过程 estimate_plane.py, Coordinate_transformation.py
使用SuCam生成连续路径Gcode  
(1)经过重采样生成模型的打印数据  
(2)经过平面拟合和转换矩阵计算得到转换矩阵R  
(3)将打印数据与转换矩阵相乘得到机械臂坐标系下的数据[x, y, z]，添加α、β、γ，得到[x, y, z, α, β, γ]  
(4)配合机械臂移动指令movej、movel、servoj等生成机械臂控制代码  
其中α、β、γ为采集平面点坐标时第一个点的数据。

### 实验数据
1）stl模型 /example  
2）stl对应路径代码 /path  #.xlsx文件为重采样后数据  
3）stl对应控制代码 控制代码为在线生成  
